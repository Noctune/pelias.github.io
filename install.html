<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pelias</title>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="http://pelias.io/css/theme.css" type="text/css"/>
    <link rel="stylesheet" href="http://pelias.io/css/theme-fixes.css" type="text/css"/>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">

    <link href="//fonts.googleapis.com/css?family=Open+Sans:300,400" rel="stylesheet">
    <link href="http://pelias.io/css/tipuesearch.css" rel="stylesheet">

    
</head>
<body class="wy-body-for-nav">

    <div class="wy-grid-for-nav">

        <nav data-toggle="wy-nav-shift" class="wy-nav-side">
            <div class="wy-side-nav-search">
                <a href="http://pelias.io/"><i class="fa fa-home"></i> Pelias</a>
            </div>
            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                
                                
                                                                                                                
                                            <p class="menu-section">
                            
                        </p>

                        <ul class="nav nav-pills nav-stacked">
                                                            <li class="navitems">
                                    <a href="http://pelias.io/index.html">
                                        Overview
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/install.html">
                                        Getting Started
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/data_licenses.html">
                                        License
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/code_of_conduct.html">
                                        Code of Conduct
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/contributing.html">
                                        Contribute
                                    </a>
                                </li>
                                                    </ul>
                                            <p class="menu-section">
                            #Goals
                        </p>

                        <ul class="nav nav-pills nav-stacked">
                                                            <li class="navitems">
                                    <a href="http://pelias.io/quarterly_goals">
                                        Q3-2016 Milestones
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/quarterly_goals/q2-2016.html">
                                        Q2-2016 Milestones
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/milestones/libpostal_integration">
                                        Address Parsing w/ libpostal
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/milestones/interpolation">
                                        Interpolation
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/milestones/wof_venues_import">
                                        WOF Venues Import
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/milestones/community_building">
                                        Community Building
                                    </a>
                                </li>
                                                            <li class="navitems">
                                    <a href="http://pelias.io/milestones/categories">
                                        Category Support
                                    </a>
                                </li>
                                                    </ul>
                                                </div>
            &nbsp;
        </nav>

        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

                        <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
                <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
                <a href="http://pelias.io/">Pelias</a>
            </nav>


                        
            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="main" class="document">
                        <h2 id="installation">Installation</h2>
<h3 id="installing-oracle-java">Installing Oracle Java</h3>
<p>You can run elasticsearch with <code>openjdk-7</code> (such as the <code>openjdk-7-jre-headless</code> which ships with ubuntu); however elasticsearch recommend you use <code>oracle-7</code>.</p>
<p>Some Elasticsearch documentation can naturally fall out-of-date, for definitive info on the latest supported java versions, use the following link: <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup.html#jvm-version">http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup.html#jvm-version</a></p>
<p>To install <code>oracle</code> java on <code>ubuntu</code>:</p>
<pre><code class="language-bash">sudo apt-get remove 'openjdk-7-jre*';
sudo add-apt-repository ppa:webupd8team/java;
sudo apt-get update;
sudo apt-get install oracle-java7-installer;</code></pre>
<h3 id="install-elasticsearch-service-debianubuntu">Install ElasticSearch Service (debian/ubuntu)</h3>
<p><strong>Always use the latest version over the one specified here</strong></p>
<pre><code class="language-bash">sudo apt-get update
cd /tmp
wget https://download.elastic.co/elasticsearch/elasticsearch/elasticsearch-2.3.3.deb
sudo dpkg -i elasticsearch-2.3.3.deb
sudo service elasticsearch start</code></pre>
<h3 id="set-elasticsearch-to-start-at-boot-time">Set Elasticsearch to start at boot time</h3>
<p><code>@ref</code> <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup-service.html">http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/setup-service.html</a></p>
<pre><code class="language-bash">sudo update-rc.d elasticsearch defaults 95 10
sudo /etc/init.d/elasticsearch start</code></pre>
<h3 id="building-from-source-advanced-users-only">Building from Source (advanced users only)</h3>
<pre><code class="language-bash">sudo apt-get update
sudo apt-get install maven
cd /tmp
git clone git@github.com:elasticsearch/elasticsearch.git
cd elasticsearch
mvn clean package -DskipTests -e
cd releases/elasticsearch*
./bin/elasticsearch</code></pre>
<h3 id="configure-elasticsearch">Configure Elasticsearch</h3>
<p>You should tune your <code>ES_HEAP_SIZE</code> to half your available RAM. '@ref' <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/heap-sizing.html">https://www.elastic.co/guide/en/elasticsearch/guide/current/heap-sizing.html</a></p>
<p>On <code>ubuntu</code> you can change this setting by editing <code>/etc/init.d/elasticsearch</code> and then restarting the service with <code>sudo service elasticsearch stop; sudo service elasticsearch start</code></p>
<h3 id="confirm-install">Confirm Install</h3>
<pre><code class="language-bash">curl 127.0.0.1:9200</code></pre>
<p>You'll see output similar to the following:</p>
<pre><code class="language-javascript">{
  "name" : "pelias",
  "cluster_name" : "pelias",
  "version" : {
    "number" : "2.3.3",
    "build_hash" : "218bdf10790eef486ff2c41a3df5cfa32dadcfde",
    "build_timestamp" : "2016-05-17T15:40:04Z",
    "build_snapshot" : false,
    "lucene_version" : "5.5.0"
  },
  "tagline" : "You Know, for Search"
}</code></pre>
<h3 id="esrejectedexecutionexception-in-es-gt">EsRejectedExecutionException in ES &gt; <code>1.2.1</code></h3>
<blockquote>
<p>this section was written some time ago and may no longer be relevant for elasticsearch version 2.x</p>
</blockquote>
<p>If you experience the error <code>EsRejectedExecutionException</code> during imports you may be able to fix this with:</p>
<pre><code class="language-bash">curl -XPUT localhost:9200/_cluster/settings -d '{
    "persistent" : {
        "threadpool.bulk.queue_size" : 250
    }
}'</code></pre>
<h3 id="install-nodejs">Install node.js</h3>
<p>There are many ways to install npm/node.js, but the following is one of the most simple and straightforward:</p>
<pre><code class="language-bash">cd /tmp
wget https://raw.githubusercontent.com/isaacs/nave/master/nave.sh
sudo env SHELL=`which bash` bash nave.sh usemain stable</code></pre>
<p>You can optionally select a different version to install:</p>
<pre><code class="language-bash">nave ls-remote</code></pre>
<h3 id="confirm-install-1">Confirm Install</h3>
<p><strong>Always use the latest version over the one specified here</strong></p>
<pre><code class="language-bash">node --version
v6.2.2

npm --version
3.10.3</code></pre>
                    </div>

                    <hr/>
                    <div class="blue-alert">
                            <div style="float: left; padding-right: 10px">
                                <i class="fa fa-exclamation-triangle fa-3x"></i>
                            </div>
                            <div style="float: left;">
                            <strong>
                                See an error in this documentation?
                            </strong>
                            <br>Kindly submit a pull request to <a href="https://github.com/pelias/pelias">Pelias</a> or open an issue <a href="https://github.com/pelias/pelias/issues">here</a> and we'll fix it.
                        </div>
                        <div class="clear"></div>
                    </div>



                    <footer>
                        <small>
                            <a href="http://pelias.io">Pelias</a> is a free open source project by <a href="https://mapzen.com">Mapzen</a>. This documentation was built using <a href="http://couscous.io/">Couscous</a> using a <a href="https://github.com/CouscousPHP/Template-ReadTheDocs">theme</a> inspired by <a href="https://readthedocs.org/">Read the Docs</a> and further enhanced by <a href="https://github.com/snipe/snipe-it/tree/documentation">Snipe-IT</a>.
                        </small>
                    </footer>

                </div>
            </div>

        </section>

    </div>

    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
    <script src="http://pelias.io/js/theme.js"></script>
    <script type="text/javascript" src="http://pelias.io/js/generated-toc.js">

    <script>
        $(function() {
            // Syntax highlighting
            hljs.initHighlightingOnLoad();
        });
    </script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

    



</body>
</html>
